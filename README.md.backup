# Pythonic C++ Library

Hey there! So you love Python's clean syntax but need C++'s performance? You're in the right place.

This library brings Python's most beloved features to C++ - dynamic typing, easy containers, slicing, string methods, and more. No weird hacks, just modern C++17 that feels surprisingly Pythonic.

## Quick Start

Just include the headers you need:

```cpp
#include "pythonicVars.hpp"   // var, list, dict, set
#include "pythonicPrint.hpp"  // print(), pprint()
#include "pythonicLoop.hpp"   // range(), enumerate(), zip()
#include "pythonicFile.hpp"   // File I/O

using namespace pythonic::vars;
using namespace pythonic::print;
using namespace pythonic::loop;
using namespace pythonic::file;
```

Compile with C++17:

```bash
g++ -std=c++17 your_code.cpp -o your_app
```

## The `var` Type

This is the heart of the library - a dynamic variable that can hold anything.

```cpp
var x = 42;           // int
var y = 3.14;         // double
var name = "Alice";   // string
var flag = true;      // bool

// Changes type whenever you want
x = "now I'm a string";
x = list(1, 2, 3);    // now I'm a list!
```

### Type Checking

```cpp
var x = 42;
print(x.type());              // prints: int
print(isinstance(x, "int"));  // prints: True

// Template version
if (isinstance<int>(x)) {
    int n = x.get<int>();
}
```

## Containers

### Lists

```cpp
var nums = list(1, 2, 3, 4, 5);
var mixed = list("hello", 42, 3.14, true);  // yep, mixed types
var empty = list();

// Access by index
print(nums[0]);         // 1
nums[0] = 100;          // modify

// Methods you'd expect
nums.append(6);
nums.pop();
print(nums.len());      // or len(nums)
```

### Slicing (finally!)

Works just like Python. Negative indices, steps, the whole deal.

```cpp
var lst = list(0, 1, 2, 3, 4, 5, 6, 7, 8, 9);

var a = lst.slice(2, 5);      // [2, 3, 4]
var b = lst.slice(0, 10, 2);  // [0, 2, 4, 6, 8]  (every 2nd)
var c = lst.slice(-3);        // [7, 8, 9]  (last 3)
var d = lst(1, 4);            // [1, 2, 3]  (operator() works too)

// Strings too!
var s = "Hello, World!";
print(s.slice(0, 5));         // Hello
```

### Dicts

```cpp
var person = dict();
person["name"] = "Bob";
person["age"] = 25;
person["city"] = "NYC";

print(person["name"]);  // Bob

// Iterate
for (auto [key, value] : person.items()) {
    print(key, "=>", value);
}
```

### Sets

```cpp
var s = set(1, 2, 3, 3, 2);  // duplicates removed
s.add(4);
print(s.contains(3));         // True
```

## String Methods

All your Python favorites are here.

```cpp
var s = "  hello, world!  ";

print(s.upper());         // "  HELLO, WORLD!  "
print(s.lower());         // "  hello, world!  "
print(s.strip());         // "hello, world!"
print(s.lstrip());        // "hello, world!  "
print(s.rstrip());        // "  hello, world!"

print(s.replace(var("world"), var("there")));  // "  hello, there!  "
print(s.find(var("world")));                   // 9

print(s.startswith(var("  hello")));  // True
print(s.endswith(var("!  ")));        // True

var words = s.strip().split();   // ["hello,", "world!"]
var joined = var("-").join(list("a", "b", "c"));  // "a-b-c"

var num = "42";
print(num.zfill(5));      // "00042"
print(num.center(6));     // "  42  "

var text = "12345";
print(text.isdigit());    // True
print(text.isalpha());    // False
```

## Looping

### range()

```cpp
for (auto i : range(5)) {
    print(i);  // 0, 1, 2, 3, 4
}

for (auto i : range(2, 8)) {
    print(i);  // 2, 3, 4, 5, 6, 7
}

for (auto i : range(0, 10, 2)) {
    print(i);  // 0, 2, 4, 6, 8
}
```

### enumerate()

```cpp
var fruits = list("apple", "banana", "cherry");

for (auto [i, fruit] : enumerate(fruits)) {
    print(i, fruit);
}
// 0 apple
// 1 banana
// 2 cherry
```

### zip()

```cpp
var names = list("Alice", "Bob");
var ages = list(25, 30);

for (auto [name, age] : zip(names, ages)) {
    print(name, "is", age, "years old");
}
```

## Built-in Functions

### Type Conversion

```cpp
var s = "123";
var n = Int(s);        // 123 (int)
var f = Float(s);      // 123.0 (double)
var str = Str(n);      // "123"
```

### Truthiness

```cpp
print(Bool(var(0)));        // False
print(Bool(var("")));       // False  (empty string)
print(Bool(list()));        // False  (empty list)
print(Bool(var(1)));        // True
print(Bool(var("hello"))); // True
```

### Math

```cpp
var nums = list(5, 2, 8, 1, 9);

print(pythonic::vars::min(nums));   // 1
print(pythonic::vars::max(nums));   // 9
print(sum(nums));                    // 25
print(pythonic::vars::abs(var(-5)));// 5
```

### Sorting

```cpp
var nums = list(3, 1, 4, 1, 5, 9);

var s = pythonic::vars::sorted(nums);          // [1, 1, 3, 4, 5, 9]
var r = pythonic::vars::sorted(nums, true);    // [9, 5, 4, 3, 1, 1]  (reversed)
```

### All/Any

```cpp
var items = list(1, 2, 3, 0);

print(all_var(items));   // False (0 is falsy)
print(any_var(items));   // True  (1, 2, 3 are truthy)
```

## Functional Programming

### map()

```cpp
var nums = list(1, 2, 3, 4, 5);

var doubled = pythonic::vars::map([](const var& x) {
    return var(x.get<int>() * 2);
}, nums);
// [2, 4, 6, 8, 10]
```

### filter()

```cpp
var evens = pythonic::vars::filter([](const var& x) {
    return x.get<int>() % 2 == 0;
}, nums);
// [2, 4]
```

### reduce()

```cpp
var total = reduce([](const var& acc, const var& x) {
    return acc + x;
}, nums);
// 15
```

## File I/O

### Quick Helpers

```cpp
// Write
write_file("output.txt", var("Hello, World!\n"));

// Read
var content = read_file("output.txt");
var lines = read_lines("output.txt");  // returns a list

// Append
append_file("output.txt", var("More stuff\n"));

// Check existence
if (file_exists("output.txt")) { ... }
```

### File Class (Python-style)

```cpp
// Reading
File f("data.txt", "r");
var line = f.readline();
var all_content = f.read();
f.close();

// Writing
File out("output.txt", "w");
out.write(var("Some text\n"));
out.writeln(var("Another line"));
out.close();

// Iteration
File f2("data.txt", "r");
for (auto line : f2) {
    print(line);
}
```

### with_open Macro

Just like Python's `with` statement - file auto-closes when done.

```cpp
with_open("data.txt", "r", file) {
    var content = file.read();
    print(content);
}
// file is auto-closed here
```

## Printing

### Regular print()

```cpp
print("Hello", "World", 42, 3.14);  // Hello World 42 3.14

var lst = list(1, 2, 3);
print("List:", lst);  // List: [1, 2, 3]
```

### Pretty print (pprint)

For nested containers:

```cpp
var data = list(
    list(1, 2, 3),
    list(4, 5, 6)
);

pprint(data);
```

Output:

```
[
  [
    1,
    2,
    3
  ],
  [
    4,
    5,
    6
  ]
]
```

### pretty_str()

Get the formatted string without printing:

```cpp
var d = dict();
d["name"] = "test";
d["items"] = list(1, 2, 3);

std::string formatted = d.pretty_str();
```

## Input

```cpp
var name = input("What's your name? ");
print("Hello,", name);

var age = Int(input("How old are you? "));
```

## Comparison Operators

Works in both if-statements and assignments:

```cpp
var a = 10;
var b = 20;

// In if-statements
if (a < b) {
    print("a is smaller");
}

// Assigned to var (returns bool)
var result = (a < b);  // true
var eq = (a == b);     // false
var ne = (a != b);     // true
```

## A Complete Example

Here's a little program that shows off most features:

```cpp
#include "pythonicVars.hpp"
#include "pythonicPrint.hpp"
#include "pythonicLoop.hpp"
#include "pythonicFile.hpp"

using namespace pythonic::vars;
using namespace pythonic::print;
using namespace pythonic::loop;
using namespace pythonic::file;

int main() {
    // Get user data
    var name = input("Name: ");
    var age = Int(input("Age: "));

    // Store in a dict
    var person = dict();
    person["name"] = name;
    person["age"] = age;
    person["hobbies"] = list("coding", "gaming");

    // Pretty print it
    print("\nYour profile:");
    pprint(person);

    // Save to file
    write_file("profile.txt", var(person.str()));

    // Some calculations
    var scores = list(85, 92, 78, 95, 88);
    print("\nScores:", scores);
    print("Min:", pythonic::vars::min(scores));
    print("Max:", pythonic::vars::max(scores));
    print("Sum:", sum(scores));

    // Filter passing scores
    var passing = pythonic::vars::filter([](const var& x) {
        return x.get<int>() >= 80;
    }, scores);
    print("Passing:", passing);

    // Enumerate through
    for (auto [i, score] : enumerate(scores)) {
        if (score.get<int>() >= 90) {
            print("Score", i, "is excellent!");
        }
    }

    return 0;
}
```

## Tips & Gotchas

1. **Use `var()` for literals in some cases**: When calling functions that expect `var`, wrap literals:

   ```cpp
   pythonic::vars::min(var(3), var(7))  // ‚úì
   ```

2. **Use fully qualified names for ambiguous functions**: Some names like `min`, `max`, `sorted` might conflict with std:

   ```cpp
   pythonic::vars::min(lst)    // ‚úì
   pythonic::vars::sorted(lst) // ‚úì
   ```

3. **Accessing actual values**: Use `.get<Type>()` when you need the underlying C++ type:

   ```cpp
   var x = 42;
   int n = x.get<int>();  // ‚úì
   ```

4. **String methods need var arguments**:
   ```cpp
   s.replace(var("old"), var("new"))  // ‚úì
   ```

That's pretty much it! The library tries to be as intuitive as possible. If it works in Python, there's a good chance it works similarly here.

Happy coding! üêç‚û°Ô∏è‚ö°
